## jvm
### 符号引用和直接引用
1. 符号引用：  
    编译期class文件生成的各种字面量和符号引用在类加载完成之后存放在`方法区的运行时常量池`  
    符号引用就是先有一个标签。第一次运行后将这个标签替换为一个可以直接找到方法具体内存位置的具体值，利用这个具体值可以直接将被调用的方法直接放到虚拟机栈内存。

2. 直接引用  
    * 对于指向“类型”【Class对象】、类变量、类方法的直接引用可能是指向方法区的本地指针。
    * 指向实例变量、实例方法的直接引用都是偏移量。
        * 实例变量的直接引用可能是从对象的映像开始算起到这个实例变量位置的偏移量。
        * 实例方法的直接引用可能是方法表的偏移量。
    * 通过“接口引用”来调用一个方法，jvm必须搜索对象的类的方法表才能找到一个合适的方法。这是因为实现同一个接口的这些类中，不一定所有的接口中的方法在类方法区中的偏移量都是一样的,他们有可能会不一样。这样的话可能就要搜索方法表才能确认要调用的方法在哪里。
    * 通过“类引用”来调用一个方法的时候，直接通过偏移量就可以找到要调用的方法的位置了。**因为子类中的方法的偏移量跟父类中的偏移量是一致的**

所以，通过接口引用调用方法会比类引用慢一些。

3. 符号引用和直接引用的关系：  
    符号引用就是字符串，这个字符串包含足够的信息，以供实际使用时可以找到相应的位置。你比如说某个方法的符号引用，如：“java/io/PrintStream.println:(Ljava/lang/String;)V”（全限定名/简单名称+描述符）。里面有类的信息，方法名，方法参数等信息。当第一次运行时，要根据字符串的内容，到该类的方法表中搜索这个方法。运行一次之后，符号引用会被替换为直接引用，下次就不用搜索了。直接引用就是偏移量，通过偏移量虚拟机可以直接在该类的内存区域中找到方法字节码的起始位置。  

